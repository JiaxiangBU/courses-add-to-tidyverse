---
title_meta: 'Chapter 1'
title: PCA的数据展示
description: 在介绍`Tidyverse`包之前，我们首先进行对数据的基本认识，因此会使用到其他R包。
---

## 查看数据结构

```yaml
type: NormalExercise
key: 15d729634a
xp: 100
skills: 1
```

以自带数据`mtcars`为例，我们需要了解`mtcars`的数据框架，并且使用PCA查看数据的主要特征。

`@instructions`
- 使用pipeline`%>%`分别使用`dim`、`str`完成数据探查。

`@hint`
- `mtcars %>% dim` 查看数据大小
- `mtcars %>% str` 查看数据变量情况

`@pre_exercise_code`
```{r}
install.package('irlba')
library(irlba)
library(tidyverse)
```

`@sample_code`
```{r}
library(irlba)
library(tidyverse)
library(add2evaluation)
```

`@solution`
```{r}
mtcars %>%
	dim

mtcars%>%
	str
```

`@sct`
```{r}
test_output_contains(c(32,11), incorrect_msg = "答案不正确。")
success_msg("可以发现这是一个32行x11列的数据。")
```

---

## 使用PCA查看数据特征

```yaml
type: NormalExercise
key: 7f9a0896b2
xp: 100
```

PCA可以根据数据的方差建立聚合的指标，描述数据，用于了解数据内的样本。

`@instructions`
- 使用`pca_inbar`查看PCA的结果。
- 使用`labs`增加图片的可读性。

`@hint`
- `mtcars %>% pca_inbar()`，这里会展示PC1。

`@pre_exercise_code`
```{r}
library(irlba)
library(tidyverse)
library(add2evaluation)
```

`@sample_code`
```{r}

```

`@solution`
```{r}
mtcars %>% 
    pca_inbar() +
    labs(
        x = 'variables in top 10'
        ,y = 'contribution'
        ,title = 'Good variables in PC1'
        ,captionn = 'made by Jiaxiang Li - jiaxiangli.netlify.com'
    )
```

`@sct`
```{r}

```
